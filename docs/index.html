<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" type="text/css" href="resources/css/style.css">
  <link rel="stylesheet" type="text/css" href="resources/css/queries.css">
  <link href="./public/favicon.ico" rel="icon" type="image/x-icon">
  <title>Viewloader</title>
</head>
<body>

  <header class="main-header">
    <div class="content-wrap">

    <nav class="main-header__nav">
      <a class="main-header__logo-til">Viewloader </a>
      <ul class="main-header__nav-list">
        <li class="main-header__nav-list-item"><a href="#introduction">Introduction</a></li>
        <li class="main-header__nav-list-item"><a href="#installation">Installation</a></li>
        <li class="main-header__nav-list-item"><a href="#api">API</a></li>
        <li class="main-header__nav-list-item"><a href="#examples">Examples</a></li>
      </ul>
    </nav>

    <div class="main-header-intro">
      <h1 class="main-header-intro__title"> Viewloader</h1>
      <h3 class="main-header-intro__sub-heading">Viewloader is just a teensy package that simplifies the process of binding DOM nodes to JavaScript functions.
        It does this by creating a convention for mapping between the DOM and your JavaScript and ensures that only
        the functions for the components in the DOM are executed.</h3>
    </div>

    <nav class="nav-mobile">
      <ul class="nav-mobile_list">
        <li class="nav-mobile list-item"><a class="button" href="#introduction">Introduction</a></li>
        <li class="nav-mobile list-item"><a href="#installation">Installation</a></li>
        <li class="nav-mobile list-item"><a href="#api">API</a></li>
        <li class="nav-mobile list-item"><a href="#examples">Examples</a></li>
      </ul>
    </nav>
  </div>

  </header>


  <main class="page-content" aria-label="Content">

      <div class="wrapper">

        <section class="main_introduction" id="introduction">

          <h4 class="main_introduction sub-heading">Let‚Äôs create a "Hello, World!" component:</h4>

          <pre class="prettyprint lang-javascript">
    // Add a `data-view-*` attribute
    &lt;input data-view-hello-world&gt;

    &lt;script&gt;
      import viewloader from "viewloader";
      // Create an object to hold our views
      const views = {
        // Create a camelCased key matching the dasherized data-view-hello-world
        // from our HTML: data-view-hello-world -> helloWorld
        helloWorld: (el, props) => {
          // The DOM node is passed here as `el` so we can do stuff!
          el.value = "Hello, World!";
        }
      }
      // Call viewloader with our "views" object whenever the DOM is ready
      viewloader.execute(views);

    &lt;/script&gt;</pre>

          <h4 class="main_introduction sub-heading">This simple approach:</h4>
          <div class="main_introduction__section_list list-wrapper">
            <ul>
              <li> üòé Lets you stop worrying about if your JavaScript is going to be called ‚Äî if there‚Äôs a <span class='dataview'>data-view-*</span> in the <strong>DOM</strong> it will be.</li>
              <li> üîó Establishes a clear convention for binding JavaScript to the DOM ‚Äî makes it easy to find where in your codebase behaviour is originating from.</li>
              <li> üíä Encourages (though doesn‚Äôt force) you to encapsulate behaviour within the context of a component‚Äôs DOM node.</li>
            </ul>
          </div>

          <p class="long-copy"> üíÖüèΩ <strong>Viewloader</strong> has one extra trick up its sleeve that makes it an incredibly powerful pattern: the value of the `data-view-*` attribute
          is passed to your matching JavaScript function as a second argument.
          </p>

          <pre class="prettyprint language-javascript">
    &lt;input data-view-hello-world="Angela Merkel"&gt;

    &lt;script&gt;
      import viewloader from "viewloader";

      const views = {
        helloWorld: (el, name) => {
          // Our attribute is available here!
          el.value = `Hello, ${name}!`;
        }
      }

      viewloader.execute(views);

    &lt;/script&gt;</pre>

          <p class="long-copy">And for additional ‚ú® it parses JSON-encoded values from that attribute into a proper object for you: </p>

          <pre class="prettyprint lang-javascript">
    &lt;input
      data-view-hello-world='{\"greeting\":\"Guten tag",\"name\":\"Angela Merkel\"}'&gt;

    &lt;script&gt;
      import viewloader from "viewloader";

      const views = {
        helloWorld: (el, props) => {
          // Our attribute is available here!
          el.value = `${props.greeting}, ${props.name}!`;
        }
      }

      viewloader.execute(views);

    &lt;/script&gt;</pre>

          <p class="long-copy"> üí™ This gives you the power to create reusable components that can be "called" from your HTML with their own properties.</p>

          <p>Viewloader provides freedom and flexibility to focus on encapsulating functionality within a minimal framework.</p>
          <p class="long-copy">Viewloader is <strong>plain JavaScript</strong>; it doesn't have any dependencies. </p>
          <div class="codepen-wrapper">
            <p data-height="500" data-theme-id="light" data-slug-hash="NMGeQz" data-default-tab="result" data-user="icelab" data-embed-version="2" data-pen-title="Hello Viewloader" class="codepen">See the Pen <a href="https://codepen.io/icelab/pen/NMGeQz/">Hello Viewloader</a> by icelab (<a href="https://codepen.io/icelab">@icelab</a>) on <a href="https://codepen.io">CodePen</a>.</p>
          </div>
        </section>

        <section class="main-installation" id="installation">

          <div class="main-installation__section heading-margin">
            <h2 class="main-installation__section heading-title">Installation<h2>
          </div>
          <div class="main-installation__instructions">
            <p"long-copy">Using npm:</p>
            <pre>
  npm install --save viewloader</pre>
            <p"long-copy">Using yarn:
            <pre>
  yarn add viewloader</pre>
            <p"long-copy">Using unpkg:</p>
            <pre>
  unpkg.com/viewloader@1.1.5/dist/viewloader.js</pre>
          </div>

        </section>

        <section class="main-api" id="api">
          <div class="main-api__section heading-margin">
            <h2 class="main_api__section heading-title">API<h2>
          </div>

          <h4 class="main-api sub-heading">viewloader.execute(views, scope, includeScope)</h4>

          <div class="main-api__list list-wrapper">
            <ul>
              <li><strong>views:</strong> An object of view functions mapped to data-view-[name] attributes. (Required)</li>
              <li><strong>scope:</strong> An element or nodelist to scope the view loader to. (Optional. Defaults to document)</li>
              <li><strong>includeScope:</strong> A boolean to indicate if the scoped element should be included in the scoped views. (Optional: Defaults to false)</li>
            </ul>
          </div>
        </section>

        <section class="main-detailed-examples" id="examples">
          <div class="main-detailed-examples__section heading-margin">
            <h2 class="main-detailed-examples__section heading-title">Detailed examples<h2>
          </div>

          <h4 class="main-detailed-examples sub-heading">Customization with per-instance props</h4>

          <p class="long-copy"> You can customize and reuse Viewloader components by providing different
            properties to each instance, through the data-view attribute.</p>
          <p class="long-copy">In this example we have components that change the background color of another
            element. Since color is the only thing that changes, we can send the color in as a parameter and
            use the same component multiple times. </p>
          <p class="list-copy">Let's create the color changer Viewloader component.</p>

          <pre class="prettyprint language-javascript">
    &lt;script&gt;
      import viewloader from "viewloader";

      const views = {
        changeColor: (el, color) => {
          el.style.backgroundColor = color;
          const container = document.body;

          el.addEventListener("mouseover", function(e) {
            container.style.backgroundColor = color;
          });
        }
      };

      viewloader.execute(views);

    &lt;/script&gt;</pre>

          <p class="list-style"> Finally we bind the component to the DOM nodes, by adding the data-view attributes with the various colors.</p>

          <pre class="prettyprint language-html">
    &lt;div class="container"&gt;
      &lt;div class="box box1" data-view-change-color='#5C526F'>1&lt;/div&gt;
      &lt;div class="box box2" data-view-change-color='#7CBB97'>2&lt;/div&gt;
      &lt;div class="box box3" data-view-change-color='#E78A37'>3&lt;/div&gt;
      &lt;div class="box box4" data-view-change-color='#F05051'>4&lt;/div&gt;
      &lt;div class="box box5" data-view-change-color='#5C526F'>5&lt;/div&gt;
      &lt;div class="box box6" data-view-change-color='#E4E0C7'>6&lt;/div&gt;
      &lt;div class="box box7" data-view-change-color='#D4AE89'>7&lt;/div&gt;
      &lt;div class="box box8" data-view-change-color='#CD6C40'>8&lt;/div&gt;
      &lt;div class="box box9" data-view-change-color='#414547'>9&lt;/div&gt;
      &lt;div class="box box10" data-view-change-color='#10BFAB'>10&lt;/div&gt;
    &lt;/div&gt;</pre>

          <p class="long-copy">That's it! You can see a live version of this example.</p>
          <div class="codepen-wrapper">
            <p data-height="550" data-theme-id="light" data-slug-hash="yjYZzm" data-default-tab="result" data-user="icelab" data-embed-version="2" data-pen-title="Box of colours - Viewloader" class="codepen">See the Pen <a href="https://codepen.io/icelab/pen/yjYZzm/">Box of colours - Viewloader</a> by icelab (<a href="https://codepen.io/icelab">@icelab</a>) on <a href="https://codepen.io">CodePen</a>.</p>
          </div>
          <h4 class="main-detailed-examples sub-heading">Show me the scope</h4>
          <p class="long-copy">Viewloader execution can be scoped to specific elements, allowing it to be used only in specific parts of the template or to be applied only to new DOM elements.</p>
          <p class="long-copy">You can pass in a boolean flag as the third parameter to indicate if the scope gets included or not in the Viewloader execution.</p>

          <p class="long-copy">In this example we will show how to scope a component with Viewloader üòâ </p>
          <p class="long-copy">We have two boxes, a "main" box and an inner box. The inner box represents the "target" element.</p>

          <p class="list-copy">Let's create a simple Viewloader component that changes the border color of our boxes.</p>

          <pre class="prettyprint language-javascript">
    &lt;script&gt;
      import viewloader from "viewloader";

      const views = {
        changeBorder: (el, borderColor) => {
          el.addEventListener("mouseover", function(e) {
            el.style.borderColor = borderColor;
          });

          el.addEventListener("mouseout", function(e) {
            el.style.borderColor = "#fff";
          });
        }
      };

      var includeScope = document.querySelector(".include-scope");
      var excludeScope = document.querySelector(".exclude-scope");

      viewloader.execute(views, includeScope, true);
      viewloader.execute(views, excludeScope, false);

    &lt;/script&gt;</pre>

        <p class="long-copy">We select an element to be the starting point of our scope and pass it as the second argument
          to the Viewloader execute function. The third argument is a boolean indicating if the element is included in the scope or not.</p>
        <p class="long-copy">It's worth remembering that the false scope is the default Viewloader behavior.</p>

        <p class="list-copy">Last but not least, let's add the data-view attributes to set the border color.</p>

        <p class="list-copy">The border that changes color depends on the scope you pass; the scope option gives you flexibility in how you use each component.</p>

        <pre class="prettyprint language-html">
    &lt;div class="container"&gt;
      &lt;h2> Include scope &lt;/h2&gt;
      &lt;div class="scope-main-box include-scope" data-view-change-border='#10BFAB'&gt;
        &lt;div class="scope-inner-box" data-view-change-border='#D4AE89'>&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="container"&gt;
      &lt;h2&gt; Exclude scope &lt;/h2&gt;
      &lt;div class="scope-main-box exclude-scope" data-view-change-border='#10BFAB'&gt;
        &lt;div class="scope-inner-box" data-view-change-border='#D4AE89'>&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;</pre>
        <p class="long-copy">That's it! You can see a live version of this example here.</p>
        <div class="codepen-wrapper">
          <p data-height="450" data-theme-id="light" data-slug-hash="rvOoPg" data-default-tab="js,result" data-user="icelab" data-embed-version="2" data-pen-title="Scope Viewloader" class="codepen">See the Pen <a href="https://codepen.io/icelab/pen/rvOoPg/">Scope Viewloader</a> by icelab (<a href="https://codepen.io/icelab">@icelab</a>) on <a href="https://codepen.io">CodePen</a>.</p>
        </div>
        </section>
      </pre>

      </div>
    </main>

  <footer>
    <img class="footer_logo" src="./resources/img/berg-300x300.png" alt="icelab_logo">
    <div class="footer_prhase">
      A package made with love by <a href="https://www.icelab.com.au/" target="_blank"=>Icelab</a>.
      <a href="https://github.com/icelab/viewloader">Source on GitHub</a>
    </div>
  </footer>

  <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
  <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
</body>
</html>
